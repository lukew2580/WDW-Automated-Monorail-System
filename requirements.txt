# WDW Monorail Sensor Framework Dependencies
# Updated 2025-12-25 to fix Dependabot security alerts

# Core Raspberry Pi dependencies
RPi.GPIO==0.7.1
gpiozero==2.0.2
pigpio==1.78
smbus2==0.5.0
pyudev==0.24.3

# Adafruit CircuitPython libraries
adafruit-circuitpython-bno055==5.4.22
adafruit-circuitpython-busdevice==5.2.9
adafruit-circuitpython-mcp230xx==3.3.40
adafruit-circuitpython-motor==3.4.20
adafruit-circuitpython-pca9685==3.4.17
adafruit-circuitpython-register==1.10.0
adafruit-circuitpython-servokit==1.3.19

# AIOHTTP ecosystem - UPDATED to fix CVEs
# CVE-2024-52304: DoS via malformed POST requests
# CVE-2024-23334: XSS on static file handling index pages  
# CVE-2024-23829: Request smuggling via chunk extensions
# CVE-2024-27306: XSS on index pages (fixed in 3.9.4+)
# CVE-2024-42367: Path traversal with compressed files (fixed in 3.10.2+)
aiohttp==3.12.14
aiohttp-cors==0.7.0
aiohttp-jinja2==1.6
aiohttp-session==2.12.1
aiohttp-security==0.5.0
aiohttp-swagger==1.0.18
aiohttp-socks==0.9.1
aiohttp-retry==2.9.1

# Flask ecosystem - UPDATED to fix CVEs
# CVE-2024-6221: Flask-CORS Access-Control-Allow-Private-Network header issue
flask==3.1.1
flask-cors==6.0.0
flask-socketio==5.4.1

# Jinja2 - UPDATED to fix CVE-2024-22195 (XSS via xmlattr)
Jinja2>=3.1.5

# Socket.IO - UPDATED to fix CVE
# CVE-2024-47174: RCE through malicious pickle deserialization
python-socketio==5.14.0

# Eventlet/Gevent - UPDATED to fix CVEs
# CVE-2024-22818: DoS via Tudoor mechanism in eventlet and dnspython  
# CVE-2023-41419: gevent privilege escalation (fixed in 23.9.0+)
eventlet==0.40.3
gevent==24.11.1
gevent-websocket==0.10.1

# Async and networking
asyncio==3.4.3
websockets==14.1
pyserial==3.5
pyserial-asyncio==0.6
# paho-mqtt CVE-2024-6786: path traversal - using latest patched version
paho-mqtt==2.1.0

# Security and cryptography
bcrypt==4.2.1
cryptography==44.0.1
pyjwt==2.10.1
pynacl==1.5.0
pyopenssl==24.3.0
paramiko==3.5.0

# Data science and visualization
numpy==2.2.1
pandas==2.2.3
matplotlib==3.10.0
scipy==1.15.0
scikit-learn==1.6.0
seaborn==0.13.2

# Utilities
psutil==6.1.1
pyyaml==6.0.2
requests==2.32.4

# DNS library - patched for CVE-2024-22818 (Tudoor DoS)
dnspython>=2.7.0
